---
include:
  - shared.yml
  - court_information.yml
---
metadata:
  title: |
    File a Motion
  short title: |
    File a Motion
  title url: |
    https://motenanthelp.org/
  tags:
    - HO-02-00-00-00
  authors:
    - Quinten Steenhuis
    - Toby Fey
    - Ian Eisaman
    - Mia Bonardi
---
mandatory: True
code: |
  nav.set_section("section_intro")
  al_intro_screen
  motions_intro_screen
  
  tenant_got_summons = True
  petition_available = True
  tenant_using_casenet = False

  tenant_doc_name
  landlord_doc_name
  
  nav.set_section("section_about")
  person_answering
  for user in users:
    user.name.first
    user.address.address
    
  nav.set_section("section_about_court")
  motion_list
  
  if motion_list['motion_to_dismiss']:
    eviction_reason
    check_case_type
    
    has_written_lease
    lease_attached
  
  if motion_list['motion_to_set_aside_judgment']: 
    final_judgment
  
  if (motion_list['motion_to_dismiss'] and (not has_written_lease or not lease_attached or not eviction_reason["nonpayment of rent"])) or (motion_list['motion_to_set_aside_judgment'] and (not final_judgment or judgment_date >= today().minus(days=30))):
    warning_kickout_loop
  
  trial_court.name
  docket_number
    
  nav.set_section("section_about_ll")
  for party in other_parties:
    party.address.address
    party.attorney.gather()
    
  nav.set_section("section_service_method")
  other_parties[0].service_method
  if other_parties[0].service_method == "email":
    other_parties[0].service_email
  elif other_parties[0].service_method in ["mail", "hand"]:
    if other_parties[0].attorney.there_are_any:
      other_parties[0].attorney[0].address.address
    other_parties[0].service_address.address
  
  nav.set_section("Your Motions")
  
  if motion_list['motion_to_dismiss'] and has_written_lease and lease_attached and eviction_reason["nonpayment of rent"]:
    nav.set_section("section_motion_to_dismiss")
    motion_to_dismiss_order
  if motion_list['motion_to_shorten_time']:
    nav.set_section("section_motion_to_shorten_time")
    motion_to_shorten_time_order
  if motion_list['motion_to_set_aside_judgment'] and final_judgment and judgment_date <= today().minus(days=30):
    nav.set_section("section_motion_to_set_aside_judgment")
    motion_to_set_aside_judgment_order
  if motion_list['motion_for_leave_to_file']:
    nav.set_section("section_motion_for_leave_to_file")
    motion_for_leave_to_file_order
  if motion_list['motion_to_elevate_security']:
    nav.set_section("section_motion_to_elevate_security")
    motion_to_elevate_security_order

  notice_of_hearing_order

  nav.set_section("section_review")
  review_motions
  
  nav.set_section("section_download")
  signature_date
  motions_download
---
reconsider: 
  - go_to_review
  - warning_kickout
code: |
  if warning_kickout or go_to_review: 
    review_specific_motions
    
  warning_kickout_loop = True
---
code: |
  enable_al_nav_sections = True
---
reconsider: True
variable name: al_nav_sections
data from code:
  - section_intro: |
      "Getting started"
  - section_about: |
      "About you"
  - section_about_court: |
      "About your case"
  - section_about_ll: |
      "About your landlord"
  - section_service_method: |
      "Service method"
  - Your Motions:
    - section_motion_to_dismiss: |
        "Motion to Dismiss or For a More Definite Statement"
      hidden: |
        not showifdef("motion_list['motion_to_dismiss']")
    - section_motion_to_shorten_time: |
        "Motion to Shorten Time"
      hidden: |
        not showifdef("motion_list['motion_to_shorten_time']")
    - section_motion_to_set_aside_judgment: |
        "Motion to Set Aside Judgment"
      hidden: |
        not showifdef("motion_list['motion_to_set_aside_judgment']")
    - section_motion_for_leave_to_file: |
        "Motion for Leave to File Responsive Pleadings"
      hidden: |
        not showifdef("motion_list['motion_for_leave_to_file']")
    - section_motion_to_elevate_security: |
        "Motion to Elevate Security"
      hidden: |
        not showifdef("motion_list['motion_to_elevate_security']")
  - section_review: |
      "Review your answers"
  - section_download: |
      "Download, print, and file"
---
code: |
  motion_for_leave_to_file_intro
  petition_date
  opposing_party_consent_to_motion_for_leave_to_file
  original_hearing_date
  discovery_requested
  reasons_unable_to_prepare_exists 
  if trial_date_set:
    trial_date
  wishes_to_assert_affirmative_defenses 
  motion_for_leave_to_file_preview
  motion_for_leave_to_file_order = True
---
code: |
  motion_to_dismiss_intro
  motion_to_dismiss_preview
  motion_to_dismiss_order = True
---
code: |
  motion_to_set_aside_intro
  petition_date 
  statements[0]
  motion_to_set_aside_preview
  motion_to_set_aside_judgment_order = True
---
code: |
  motion_to_shorten_time_intro
  trial_date
  if counsel_retained:
    days_before_trial
  opposing_party_consent_to_motion_to_shorten_time
  no_dilatory_motive 
  may_resolve_case_more_efficiently
  motions_attached
  motion_to_shorten_time_preview
  motion_to_shorten_time_order = True
---
code: |
  motion_to_elevate_security_intro
  opposing_party_consent_to_motion_to_elevate_security
  rental_address.address
  eviction_outcome
  reason_for_elevated_security
  tenant_exposed_to_threats
  tenant_believes_landlords_wont_rent 
  motion_to_elevate_security_preview
  motion_to_elevate_security_order = True
---
code: |
  #notice_of_hearing_intro
  #new_hearing_date
  motions_for_hearing
  #notice_of_hearing_preview
  notice_of_hearing_order = True
---
code: |
  file_a_motion_helper_next_steps_attachment.enabled = True
---
code: |
  motion_for_leave_to_file_attachment.enabled = motion_list['motion_for_leave_to_file']
---
code: |
  motion_to_dismiss_attachment.enabled = motion_list['motion_to_dismiss']
---
code: |
  motion_to_set_aside_attachment.enabled = motion_list['motion_to_set_aside_judgment']
---
code: |
  motion_to_shorten_time_attachment.enabled = motion_list['motion_to_shorten_time']
---
code: |
  motion_to_elevate_security_attachment.enabled = motion_list['motion_to_elevate_security']
---
code: |
  notice_of_hearing_attachment.enabled = motion_list.any_true()
---
id: motions intro
continue button field: motions_intro_screen
question: | 
  File a Motion
subquestion: |
  This form can help you prepare the following {motion|motions}: 
  
    * Motion to Dismiss or For a More Definite Statement
    
    * Motion to Shorten Time
    
    * Motion to Set Aside Judgment
    
    * Motion for Leave to File Responsive Pleadings
    
    * Motion to Elevate Security
    
  And a required Notice of Hearing for each motion.
---
id: soft exit motions warning 
reconsider: True
decoration: hand
question: |
  % if person_answering == "tenant":
  You may not want to {file} this motion
  % else: 
  The tenant may not want to {file} this motion
  % endif
subquestion: |
  % if motion_list['motion_to_dismiss'] and (not has_written_lease or not lease_attached or not eviction_reason["nonpayment of rent"]):
  You selected to fill out a Motion to Dismiss or For a More Definite Statement. To file this motion, it should be true that: 
  
  1. Your ladlord is evicting you for nonpayment of rent;
  2. You have a written lease; AND
  3. The lease was attached to the Landlord's petition when it was delivered to you.
  % endif
  % if motion_list['motion_to_set_aside_judgment'] and (not final_judgment or judgment_date >= today().minus(days=30)):
  You selected to fill out a Motion to Set Aside Judgment. To file this motion, it should be true that: 
  
  1. A judge entered a final judgment in this case; AND
  2. The day the judge entered the final judgment was less than 30 days ago. 
  % endif
  
  Based on your answers, your may not want to file this motion. 
buttons:
  - ${"I understand, let me keep going" if person_answering == "tenant" else "The tenant understands, let them keep going"}: 
      code: |
        go_to_review = False
        warning_kickout = True
  - ${"Choose a different motion"}: 
      code: |
        warning_kickout = False
        go_to_review = True
    color: info
  - Exit: exit
    url: https://motenanthelp.org/
---
id: Motion to Dismiss or For a More Definite Statement intro
continue button field: motion_to_dismiss_intro
question: |
  Motion to Dismiss or For a More Definite Statement
subquestion: |
  You said you want to make a Motion to Dismiss or For a More Definite Statement in your case.
  
  You have answered all the questions needed for this motion already. You will have a chance to review it on the next screen. It may take a second to load.
---
id: Motion to Shorten Time intro
continue button field: motion_to_shorten_time_intro
question: |
  Motion to Shorten Time
subquestion: |
  You said you want to make a Motion to Shorten Time in your case. 
  
  We have some more questions to ask you about this motion. You will have a chance to review the motion after you answer the following questions.
---
id: Motion to Set Aside Judgment intro
continue button field: motion_to_set_aside_intro
question: |
  Motion to Set Aside Judgment
subquestion: |
  You said you want to make a Motion to Set Aside Judgment in your case. 
  
  We have some more questions to ask you about this motion. You will have a chance to review the motion after you answer the following questions.
---
id: Motion for Leave to File Responsive Pleadings intro
continue button field: motion_for_leave_to_file_intro
question: |
  Motion for Leave to File Responsive Pleadings
subquestion: |
  You said you want to make a Motion for Leave to File Responsive Pleadings in your case. 
  
  We have some more questions to ask you about this motion. You will have a chance to review the motion after you answer the following questions.
---
id: Motion to Elevate Security intro
continue button field: motion_to_elevate_security_intro
question: |
  Motion to Elevate Security
subquestion: |
  You said you want to make a Motion to Elevate Security in your case. 
  
  We have some more questions to ask you about this motion. You will have a chance to review the motion after you answer the following questions.
---
id: Notice of Hearing intro
continue button field: notice_of_hearing_intro
question: |
  Notice of Hearing
subquestion: |
  You said you want to make a Notice of Hearing in your case. 
  
  We have some more questions to ask you about this motion. You will have a chance to review the motion after you answer the following questions.
---
### not changing "you" reference language on this question because it appears before selection of person_answering
id: basic questions intro screen
decoration: form-lineal
question: |
  File a Motion: Missouri Tenant Help
subquestion: |
  Missouri Tenant Help can help you complete and download forms in 3 steps:

  Step 1. Fill in your form.  
  
  Step 2. Preview the completed form.  
  
  Step 3. Download and print the final form. **You will need to deliver it.**
  
  This site is not a lawyer. If you would like a lawyer, find [a Missouri legal aid provider](https://www.lsmo.org/). If you are outside Missouri, find your [your local
  legal aid provider](https://www.lsc.gov/what-legal-aid/find-legal-aid).
  
  Tap the {green words} in any screen for a definition or more information.
  
  You can also click an underlined link with a triangle next to it to see more information.
  ${ collapse_template(collapsible_info_template) }
  
  % if chat_partners_available().help:
  Live help is currently available in this interview. Click the speech bubble
  (:comment-alt:) in the navigation bar to connect to a live advocate for help.
  % endif
  
  ${ display_template(about_page_contents, scrollable=True, collapse=True) }
fields:
  - To continue, you must accept the terms of use: acknowledged_information_use
    datatype: checkboxes
    none of the above: False    
    minlength: 1
    choices:
      - I accept the terms of use.
    validation messages:
      minlength: |
        You cannot continue unless you agree to the terms of use.
continue button field: al_intro_screen
---
reconsider: 
  - motion_checkboxes
id: motion list
question: |
  Which {motion|motions} do you need?
fields:
  - Select Motions: motion_list
    datatype: checkboxes
    none of the above: false
    code: |
      motion_checkboxes
---
code: |
  motion_checkboxes = {'motion_for_leave_to_file': 'Motion for Leave to File Responsive Pleadings',
      'motion_to_dismiss': 'Motion to Dismiss or For a More Definite Statement',
      'motion_to_set_aside_judgment': 'Motion to Set Aside Judgment',
      'motion_to_shorten_time': 'Motion to Shorten Time',
      'motion_to_elevate_security': 'Motion to Elevate Security'}
---
# Keeping for example way to do this in future
#variable name: motion_checkboxes
#data:
## Example:
## - option: name of the dictionary key
##   label: name of the motion
##   visible: True or False, or a mako expression that evaluates to True or False. It's treated as a string
#  - option: motion_for_leave_to_file
#    label: Motion for Leave to File Responsive Pleadings
#    visible: ${ True } 
#  - option: motion_to_shorten_time
#    label: Motion to Shorten Time
#    visible: ${ True }
#  - option: motion_to_elevate_security
#    label: Motion to Elevate Security
#    visible: ${ True }
#  - option: notice_of_hearing
#    label: Notice of Hearing
#    visible: ${ True }
#  - option: motion_to_dismiss
#    label: Motion to Dismiss or For a More Definite Statement
#    visible: ${ has_written_lease and lease_attached and eviction_reason["nonpayment of rent"] }
#  - option: motion_to_set_aside_judgment
#    label: Motion to Set Aside Judgment
#    visible: ${ final_judgment and judgment_date <= today().minus(days=30) }
---
id: judgment_date
question: |
  Has a judge made a final decision in this case?
fields:
  - A judge entered a final judgment in this case: final_judgment
    datatype: yesnoradio
  - Date: judgment_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: final_judgment
validation code: |
  if not final_judgment: 
    judgment_date = today().minus(days=31)
---
id: petition_date 
question: |
  When did the {Plaintiff} {file} their {petition} in this case?
fields:
  - Date: petition_date
    datatype: ThreePartsDate
    alMax: ${ today() }
---
objects: 
  - statements: DAList
---
id: statements
question: |
  Add any supporting statements to your {motion}. 
fields: 
  - Statement: statements[i]
    input type: area
    rows: 5
list collect: True
---
objects: 
  - rental_address: ALAddress
---
id: rental address
question: |
  % if person_answering == "tenant":
  What is the address of your rental property?
  % else:
  What is the address of the tenant's rental property?
  % endif
fields:
  - Rental property address: rental_address
    datatype: object_radio
    default: 
      - users[0].address if defined(users[0].address.attr_name("address")) else None
    choices:
      - users[0].address if defined(users[0].address.attr_name("address")) else None
      - users[0].mailing_address if defined(users[0].mailing_address.attr_name("address")) else None
    object labeler: |
      lambda y: y.on_one_line()      
    none of the above: |
      Somewhere else   
  - Address: rental_address.address
    address autocomplete: True
    show if:
      variable: rental_address
      is: null
  - Unit: rental_address.unit
    required: False
    show if:
      variable: rental_address
      is: null
  - City: rental_address.city
    show if:
      variable: rental_address
      is: null
  - State: rental_address.state
    code: |
      states_list(country_code=AL_DEFAULT_COUNTRY)
    default: ${ AL_DEFAULT_STATE }
    show if:
      variable: rental_address
      is: null 
  - Zip: rental_address.zip
    required: False 
    show if:
      variable: rental_address
      is: null
---
## in future add resource for how they can find this information
id: outcome
question: |
  What was the outcome of this eviction case?
fields:
  - The outcome of this eviction case was: eviction_outcome
    datatype: radio
    choices:
      - Default Judgment
      - Dismissal
---
id: reasons for motion
question: |
  % if person_answering == "tenant":
  Why do you need the court records secured?
  % else: 
  Why does the tenant need the court records secured?
  % endif
fields:
  - label: |
      % if person_answering == "tenant":
      Do any of the following reasons justify securing case records in your case?
      % else: 
      Do any of the following reasons justify securing case records in the plaintiff's case?
      % endif
    field: reason_for_elevated_security 
    datatype: checkboxes
    choices:
      - Eviction was improperly granted
      - Domestic violence
      - Other
    none of the above: false
  - Explain: reason_for_elevated_security_other
    input type: area
    rows: 5
    show if:
      variable: reason_for_elevated_security['Other']
      is: True
---
id: reasons for motion
question: |
  % if person_answering == "tenant":
  Have you already had to pay extra fees or been denied a place to live because of this case getting attention?
  % else: 
  Has the tenant already had to pay extra fees or been denied a place to live because of this case getting attention?
  % endif
fields:
  - label: |
      % if person_answering == "tenant":
      I am already experiencing the costs of this case getting attention
      % else: 
      The tenant is already experiencing the costs of this case getting attention
      % endif
    field: tenant_exposed_to_threats
    datatype: yesnoradio
---
id: future costs
question: |
  % if person_answering == "tenant":
  Do you think you will experience costs of this case getting attention in the future?
  % else: 
  Does the tenant think they will experience costs of this case getting attention in the future?
  % endif
fields:
  - label: |
      % if person_answering == "tenant":
      Do you believe other landlords will refuse to rent to you because the information about this case is public?
      % else: 
      Does the tenant believe other landlords will refuse to rent to them because the information about this case is public?
      % endif
    field: tenant_believes_landlords_wont_rent 
    datatype: yesnoradio
  - label: |
      % if person_answering == "tenant":
      Do you believe you will have to pay higher rent, or find a co-signer, or face other economic consequences if this case remains public?
      % else: 
      Does the tenant believe they will have to pay higher rent, or find a co-signer, or face other economic consequences if this case remains public?
      % endif
    field: economic_consequences
    datatype: yesnoradio
  - label: |
      % if person_answering == "tenant":
      Do you believe the public visibility of this eviction case will make it harder for you to rent housing?
      % else: 
      Does the tenant believe the public visibility of this eviction case will make it harder for the tenant to rent housing?
      % endif
    field: tenant_would_be_prejudiced
    datatype: yesnoradio
---
id: hearing date time
question: |
  % if person_answering == "tenant":
  When is your original {hearing} planned?
  % else: 
  When is the tenant's original {hearing} planned?
  % endif
fields:
  - Date: original_hearing_date
    datatype: date
  - Time: original_hearing_time
    datatype: radio
    choices: 
      - 9:00 AM
      - Other
    default: 9:00 AM
  - Other time: other_time
    js show if: |
      val("original_hearing_time") == "Other"
---
id: trial date 
question: |
  Has the court set a date for trial?
fields:
  - The court has set a date for trial: trial_date_set
    datatype: yesnoradio
---
id: answer and assert defenses 
question: |
  Do you want to assert {defense|defenses} at trial?
fields:
  - I want to assert defenses at trial: wishes_to_assert_affirmative_defenses
    datatype: yesnoradio
---
id: reasons_unable_to_prepare_exists
question: |
  Was there a reason you couldn't get your response ready and {file} it on time?
fields:
  - There is a reason: reasons_unable_to_prepare_exists
    datatype: yesnoradio
  - Explain: reason
    input type: area
    show if: reasons_unable_to_prepare_exists
---
## in future add link to discovery interview
id: discovery
question: |
  Discovery
subquestion: |
  You have the right to have your landlord answer some questions and give you some documents before trial. This is called "discovery."
  
  Discovery may help you understand what information or documents your landlord has.
fields:
  - Did you request discovery?: discovery_requested
    datatype: yesnoradio
  - Are you thinking about requesting discovery?: discovery_planned
    datatype: yesnoradio
    show if:
      variable: discovery_requested
      is: False
  - Did the landlord respond to your discovery requests?: discovery_produced
    datatype: yesnoradio
    show if:
      variable: discovery_requested
      is: True
  - When did the landlord respond to your discovery requests?: discovery_provided_date
    datatype: date
    show if:
      variable: discovery_produced
      is: True
  - Do you disagree with any reasons your landlord gave for not sharing information?: discovery_objections_planned
    datatype: yesnoradio
    show if:
      variable: discovery_produced
      is: True
---
id: trial_date
question: |
  % if person_answering == "tenant":
  When is your trial date planned?
  % else: 
  When is the tenant's trial date planned?
  % endif
fields:
  - Date: trial_date
    datatype: ThreePartsDate
    alMin: ${ today() }
  - Time: trial_time
---
id: date_counsel_retained
question: |
  % if person_answering == "tenant":
  Did you get a lawyer for this case?
  % else: 
  Did the tenant get a lawyer for this case?
  % endif
fields:
  - no label: counsel_retained
    datatype: yesnoradio
  - label: |
      % if person_answering == "tenant":
      When did you get a lawyer for this case?
      % else: 
      When did the tenant get a lawyer for this case?
      % endif
    field: date_counsel_retained
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: counsel_retained
---
id: no_dilatory_motive
question: |
  % if person_answering == "tenant":
  Do you have any unfair reasons for making this request?
  % else:
  Does the tenant have any unfair reasons for making this request?
  % endif
fields:
  - label: |
      % if person_answering == "tenant":
      Do you have a reason for making the time shorter that might not seem fair?
      % else: 
      Does the tenant have a reason for making the time shorter that might not seem fair?
      % endif
    field: unfair_motive 
    datatype: yesnoradio
  - label: |
      % if person_answering == "tenant":
      Did you have enough time to ask questions or disagree with the Plaintiff's petition?
      % else: 
      Did the tenant have enough time to ask questions or disagree with the Plaintiff's petition?
      % endif
    field: enough_time 
    datatype: yesnoradio
---
code: |
  if not unfair_motive and not enough_time: 
    no_dilatory_motive = True
  else:
    no_dilatory_motive = False
---
id: may_resolve_case_more_efficiently
question: |
  % if person_answering == "tenant":
  Could this case be solved faster if the judge approves your request?
  % else: 
  Could this case be solved faster if the judge approves the tenant's request?
  % endif
fields:
  - label: |
      % if person_answering == "tenant":
      This case could be solved faster if the judge approves my request
      % else: 
      This case could be solved faster if the judge approves the tenant's request
      % endif
    field: may_resolve_case_more_efficiently
    datatype: yesnoradio
---
id: opposing_party_consent_to_motion_to_elevate_security
question: |
  Does ${ other_parties } consent to this Motion to Elevate Security?
fields:
  - Does ${ other_parties } consent to this Motion?: opposing_party_consent_to_motion_to_elevate_security
    datatype: yesnoradio
---
id: opposing_party_consent_to_motion_for_leave_to_file
question: |
  Does ${ other_parties } consent to this Motion for Leave to File Responsive Pleadings?
fields:
  - Does ${ other_parties } consent to this Motion?: opposing_party_consent_to_motion_for_leave_to_file
    datatype: yesnoradio
---
id: opposing_party_consent_to_motion_to_shorten_time
question: |
  Does ${ other_parties } consent to this Motion to Shorten Time?
fields:
  - Does ${ other_parties } consent to this Motion?: opposing_party_consent_to_motion_to_shorten_time
    datatype: yesnoradio
---
code: |
  before_trial = date_difference(starting=date_counsel_retained,ending=trial_date)
  if before_trial.days == 0:
    days_before_trial = "the same day as"
  elif before_trial.days == 1:
    days_before_trial = "the day prior to"
  else:
    days_before_trial = nice_number(before_trial.days) + " days prior to"
---
id: new hearing date time
question: When is the new {hearing}?
fields:
  - Date: new_hearing_date
    datatype: ThreePartsDate
    alMin: ${ today() }
  - "New hearing time": new_hearing_time
    datatype: radio
    choices: 
      - 9:00 AM
      - Other
    default: 9:00 AM
  - Other time: new_other_time
    js show if: |
      val("new_hearing_time") == "Other"
---
code: |
  motions_attached = list()
  for motion in motion_list.true_values():
    if not motion == "motion_to_shorten_time":
      motions_attached.append(motion_list[motion])
---
code: |
  motions_for_hearing = list()
  for motion in motion_list.true_values():
    if not motion == "notice_of_hearing":
      motions_for_hearing.append(motion_checkboxes[motion])
---
attachments:
  - name: motion to shorten time
    filename: motion_to_shorten_time.docx     
    variable name: motion_to_shorten_time_attachment[i]        
    skip undefined: True
    docx template file: motion_to_shorten_time.docx
  - name: motion to dismiss
    filename: motion_to_dismiss  
    variable name: motion_to_dismiss_attachment[i]        
    skip undefined: True
    docx template file: motion_to_dismiss.docx
  - name: motion to set aside
    filename: motion_to_set_aside
    variable name: motion_to_set_aside_attachment[i]        
    skip undefined: True
    docx template file: motion_to_set_aside.docx
  - name: motion for leave to file answer
    filename: motion_for_leave_to_file_answer.docx     
    variable name: motion_for_leave_to_file_attachment[i]        
    skip undefined: True
    docx template file: motion_for_leave_to_file.docx
  - name: motion to elevate security
    filename: motion_to_elevate_security.docx     
    variable name: motion_to_elevate_security_attachment[i]       
    skip undefined: True
    docx template file: motion_to_elevate_security.docx
  - name: notice of hearing
    filename: notice_of_hearing.docx     
    variable name: notice_of_hearing_attachment[i]       
    skip undefined: True
    docx template file: notice_of_hearing.docx
  - name: file a motion helper next steps
    filename: file_a_motion_helper_next_steps.docx     
    variable name: file_a_motion_helper_next_steps_attachment[i]       
    skip undefined: True
    docx template file: file_a_motion_helper_next_steps.docx
---
objects:
  - motion_to_set_aside_attachment: ALDocument.using(title="File a Motion to Set Aside Judgment", filename="motion_to_set_aside.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - motion_to_shorten_time_attachment: ALDocument.using(title="File a Motion to Shorten Time", filename="motion_to_shorten_time.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - motion_to_dismiss_attachment: ALDocument.using(title="File a Motion to Dismiss", filename="motion_to_dismiss.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - motion_for_leave_to_file_attachment: ALDocument.using(title="File a Motion for Leave to File Responsive Pleadings", filename="motion_for_leave_to_file_answer.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - motion_to_elevate_security_attachment: ALDocument.using(title="File a Motion to Elevate Security", filename="motion_to_elevate_security.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - notice_of_hearing_attachment: ALDocument.using(title="File a Notice of Hearing", filename="notice_of_hearing.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - file_a_motion_helper_next_steps_attachment: ALDocument.using(title="Next Steps to File a Motion", filename="notice_of_hearing.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[file_a_motion_helper_next_steps_attachment, motion_to_dismiss_attachment, motion_to_shorten_time_attachment, motion_to_set_aside_attachment, motion_for_leave_to_file_attachment, motion_to_elevate_security_attachment,notice_of_hearing_attachment], filename="motions.docx", title="All forms to download for your records", enabled=True)
  - al_court_bundle: ALDocumentBundle.using(elements=attachment_list_court, filename="motions.docx", title="All forms to download for your records", enabled=True)
---
id: download motions
event: motions_download
question: |
  All done
subquestion: |
  
  % if device().is_mobile:
  ${ al_user_bundle.download_list_html(format="pdf") }
  % else:
  ${ al_user_bundle.download_list_html(format="docx") }
  % endif
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=True) }

progress: 100
---
---
id: download motions
event: motions_download
question: |
  Download, print, deliver, and file the forms
subquestion: |
  Thank you, ${users}. The forms are ready to download, print, deliver, and file.
  
  **1. View and download the forms below.** Click the "Edit answers" button to fix any mistakes.
  
  **2. Print the forms.** You may be able to use a printer at a public library or the county law library.
  
  **3. Deliver the forms to:**
  
  % if other_parties[0].attorney.there_are_any: 
  Plaintiff's attorney: ${ other_parties[0].attorney[0].name }
  
  % else:
  Plaintiff: ${ other_parties[0].name }
  
  % endif
  % if other_parties[0].service_method == "email":
  Email: ${ other_parties[0].service_email }
  % else:
  ${ other_parties[0].service_address.block() }
  % endif
  
  **4. Complete and {file} the forms:**
  
    * Fill in the date you deliver each form to the other party in the "Certificate of Service" box usually at the end of the document. There are 3 Certificate of Service boxes in the discovery document that you will need to fill in before delivering to the other party. 
    
    % if not docket_number: 
    * Add the case number.
    
    % endif
    * Go to the court and file the forms at the clerk's office.
  
  ${ county_dictionary[trial_court.county]['court_address_and_operating_hours'] }
  
  ###Deadline to deliver and file the forms###
  
  Deliver and file these forms **as soon as possible**. 
  
  Check with your county clerk for how to complete the Notice of Hearing.

  ${ action_button_html(url_action('review_eviction_answer'), label='Edit answers', color='info') }
    
  % if device().is_mobile:
  ${ al_user_bundle.download_list_html(format="pdf") }
  % else:
  ${ al_user_bundle.download_list_html(format="docx") }
  % endif
 
  ${ al_user_bundle.send_button_html(show_editable_checkbox=True) }

  ${ only_once_review_widget() }
  
progress: 100
---
id: motion_to_elevate_security_preview
continue button field: motion_to_elevate_security_preview
question: |
  Preview your Motion to Elevate Security
subquestion: |
  Here is a preview of your Motion to Elevate Security.
  
  ${ motion_to_elevate_security_attachment.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_motions'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue.
---
id: motion_for_leave_to_file_preview
continue button field: motion_for_leave_to_file_preview
question: |
  Preview your Motion for Leave to File Responsive Pleadings
subquestion: |
  Here is a preview of your Motion for Leave to File Responsive Pleadings.
  
  ${ motion_for_leave_to_file_attachment.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_motions'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue.
---
id: motion_to_dismiss_preview
continue button field: motion_to_dismiss_preview
question: |
  Preview your Motion to Dismiss
subquestion: |
  Here is a preview of your Motion to Dismiss.
  
  ${ motion_to_dismiss_attachment.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_motions'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue.
---
id: motion_to_shorten_time_preview
continue button field: motion_to_shorten_time_preview
question: |
  Preview your Motion to Shorten Time
subquestion: |
  Here is a preview of your Motion to Shorten Time.
  
  ${ motion_to_shorten_time_attachment.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_motions'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue.
---
id: motion_to_set_aside_preview
continue button field: motion_to_set_aside_preview
question: |
  Preview your Motion to Set Aside Judgment
subquestion: |
  Here is a preview of your Motion to Set Aside Judgment.
  
  ${ motion_to_set_aside_attachment.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_motions'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue.
---
id: notice_of_hearing_preview
continue button field: notice_of_hearing_preview
question: |
  Preview your Notice of Hearing
subquestion: |
  Here is a preview of your Notice of Hearing.
  
  ${ notice_of_hearing_attachment.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_motions'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue.
---
id: review_specific_motions
continue button field: review_specific_motions
question: |
  ##Your Motions##
review:
  - Edit: |-
      motion_list
    button: |
      **Which motions do you need?**

      % for item in motion_list.true_values():
      - ${ motion_checkboxes[item] }
      % endfor
---
id: review_motions
continue button field: review_motions
question: |
  Review your answers
subquestion: |
  Look over your answers below. If you need to make any changes, click the "Edit" button
  next to the answer that you want to change.
  
  **Note:** If you edit information about you, the other party, or your court case, that information will update on all of your motions.
review:
  - note: | 
      % if person_answering == "tenant":
      ##Information about you##
      % else:
      ##Information about the tenant##
      % endif
  - Edit:
      - users.revisit
    button: |
      Defendants:
      % if users.there_are_any:
      % for item in users:

         - **${ item }**

      % endfor
      % else:
      **None**
      % endif
  - note: | 
      ##Information about the other party##
  - Edit:
      - other_parties.revisit
    button: |
      Plaintiffs:
      % if other_parties.there_are_any:
      % for item in other_parties:
      
       - **${ item }**
      
      % if item.attorney.there_are_any:
         - Attorney: **${ item.attorney[0] }**
      **${ item.attorney[0].address }**
      
      % else:
         - Attorney: **None**
      
      % endif
         - Person or Business: **${ "Person" if item.person_type == "ALIndividual" else "Business" }**
      % endfor
      % else:
      **None**
      % endif
  - note: | 
      ##About your court case##
  - Edit:
      - trial_court.name
    button: |
      **Trial Court Name**
      
      ${ trial_court.name }
  - Edit:
      - docket_number
    button: |
      **Case number**
      
      ${ docket_number }
  - note: | 
      ##Your Motions##
  - Edit: |-
      motion_list
    button: |
      **Which motions do you need?**

      % for item in motion_list.true_values():
      - ${ motion_checkboxes[item] }
      % endfor
  #- note: | 
  #    ##Motion to Dismiss or For a More Definite Statement##
  #  show if: motion_list['motion_to_dismiss']
  - note: | 
      ##Motion to Shorten Time##
    show if: motion_list['motion_to_shorten_time']
  - Edit: |-
      opposing_party_consent_to_motion_to_shorten_time
    button: |
      **Landlord consent**
      
      ${ word(yesno(opposing_party_consent_to_motion_to_shorten_time)) }
  - Edit: |-
      trial_date
    button: |
      **Trial Date**
      
      ${ showifdef('trial_date') } ${ showifdef('trial_time') }
  - note: | 
      ##Motion to Set Aside Judgment##
    show if: motion_list['motion_to_set_aside_judgment']
  - Edit: |-
      statements.revisit
    button: |
      **Statements**

      % for item in statements:
      - ${ item }
      % endfor
  - Edit: |-
      judgment_date
    button: |
      **When was a judgment entered in this matter?**

      Date: ${ showifdef('judgment_date') }
  - Edit: |-
      petition_date
    button: |
      **When did the Plaintiff file their petition in this case?**

      Date: ${ showifdef('petition_date') }
    show if: motion_list['motion_to_set_aside_judgment']
  - Edit: |-
      counsel_retained
    button: |
      **Counsel**
      
      Has counsel: ${ word(yesno(counsel_retained)) }
      
      Date counsel retained: ${ date_counsel_retained }
  - Edit: |-
      no_dilatory_motive
    button: |
      **Do you have any unfair reasons for making this request?**

      ${ word(yesno(no_dilatory_motive)) }
  - Edit: |-
      may_resolve_case_more_efficiently
    button: |
      **Could this case be solved faster if the judge approves your request?**

      ${ word(yesno(may_resolve_case_more_efficiently)) }
  - note: | 
      ##Motion for Leave to File Responsive Pleadings##
    show if: motion_list['motion_for_leave_to_file']
  - Edit: |-
      opposing_party_consent_to_motion_for_leave_to_file
    button: |
      **Landlord consent**
      
      ${ word(yesno(opposing_party_consent_to_motion_for_leave_to_file)) }
  - Edit:
      - original_hearing_date
    button: |
      **Original hearing**
      
      Date: ${ original_hearing_date } 
      
      Time: ${ original_hearing_time }
  - Edit: |-
      petition_date
    button: |
      **When did the Plaintiff file their petition in this case?**

      Date: ${ showifdef('petition_date') }
    show if: motion_list['motion_for_leave_to_file']
  - Edit: |-
      trial_date_set
    button: |
      **Trial**

      Has the court set a date for trial? ${ word(yesno(trial_date_set)) }

      Trial date: ${ showifdef('trial_date') } 
  - Edit: |-
      reasons_unable_to_prepare_exists
    button: |
      **Was there a reason you couldn't get your response ready and file it on time?**

      ${ word(yesno(reasons_unable_to_prepare_exists)) }

  - Edit: |-
      wishes_to_assert_affirmative_defenses
    button: |
      **Do you want to assert defenses at trial?**

      ${ word(yesno(wishes_to_assert_affirmative_defenses)) }
  - Edit: |-
      discovery_requested
    button: |
      **Discovery**

      Did you request discovery? ${ word(yesno(discovery_requested)) }

      Are you thinking about requesting discovery? ${ word(yesno(discovery_planned)) }

      Did the landlord respond to your discovery requests? ${ word(yesno(discovery_produced)) }

      When did the landlord respond to your discovery requests? ${ showifdef('discovery_provided_date') }

      Do you disagree with any reasons your landlord gave for not sharing information? ${ word(yesno(discovery_objections_planned)) }
  - note: | 
      ##Motion to Elevate Security##
    show if: motion_list['motion_to_elevate_security']
  - Edit: |-
      opposing_party_consent_to_motion_to_elevate_security
    button: |
      **Landlord consent**
      
      ${ word(yesno(opposing_party_consent_to_motion_to_elevate_security)) }
  - Edit: |-
      rental_address.revisit
    button: |
      **Rental Address**

      Address: ${ rental_address.on_one_line() }
  - Edit: |-
      eviction_outcome
    button: |
      **What was the outcome of this eviction case?**

      The outcome of this eviction case was: ${ showifdef('eviction_outcome') }
  - Edit: |-
      reason_for_elevated_security
    button: |
      **Reasons for Elevated Security** 
      
      ${ reason_for_elevated_security.true_values() }
      ${ showifdef('reason_for_elevated_security_other') }
  - Edit: |-
      tenant_exposed_to_threats
    button: |
      **Have you already had to pay extra fees or been denied a place to live because of this case getting attention?**

      I am already experiencing the costs of this case getting attention: ${ word(yesno(tenant_exposed_to_threats)) }
  - Edit: |-
      tenant_believes_landlords_wont_rent
    button: |
      **Do you think you will experience costs of this case getting attention in the future?**

      Do you believe other landlords will refuse to rent to you because the information about this case is public? ${ word(yesno(tenant_believes_landlords_wont_rent)) }

      Do you believe you will have to pay higher rent, or find a co-signer, or face other economic consequences if this case remains public? ${ word(yesno(economic_consequences)) }

      Do you believe the public visibility of this eviction case will make it harder for you to rent housing? ${ word(yesno(tenant_would_be_prejudiced)) }
  - note: | 
      ##Notice of Hearing##
    show if: motion_list['notice_of_hearing']
  - Edit: |-
      new_hearing_date
    button: |
      **What date is the new hearing?**

      Date: ${ showifdef('new_hearing_date') }
  - Edit: |-
      new_hearing_time
    button: |
      **What time is the new hearing?**

      Date: ${ showifdef('new_hearing_time') }
---

event: |-
  statements.revisit

id: |-
  revisit statements

question: |-
  Edit your answers about Statements

subquestion: |-
  ${ statements.table }

---

event: |-
  rental_address.revisit

id: |-
  revisit rental_address

question: |-
  Edit your answers about Rental Address

subquestion: |-
  ${ rental_address.table }

---

event: |-
  reasons.revisit

id: |-
  revisit reasons

question: |-
  Edit your answers about Reasons

subquestion: |-
  ${ reasons.table }

---

columns:
  - Statement: |-
      row_item.statements[i] if hasattr(row_item, 'statements[i]') else ''

rows: |-
  statements

table: |-
  statements.table

---

columns:
  - Reason: |-
      row_item.reasons[i] if hasattr(row_item, 'reasons[i]') else ''

rows: |-
  reasons

table: |-
  reasons.table
---
